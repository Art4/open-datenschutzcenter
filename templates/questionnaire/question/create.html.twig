{% extends 'base.html.twig' %}
{% trans_default_domain 'questionnaire' %}

{% block title %}
    {% trans %}question.create{% endtrans %}
{% endblock %}

{% block body %}
    {{ form_start(form) }}
    <fieldset>
        {{ form_row(form.label) }}
        {{ form_row(form.hint) }}
        {{ form_row(form.evalValue) }}
        {{ form_row(form.type) }}
    </fieldset>
    <fieldset>
        <legend>
            {% trans %}question.answers{% endtrans %}
        </legend>
        {% if error %}
            <div class="text-error-600">{% trans %}question.error{% endtrans %}</div>
        {% endif %}
        <ul data-prototype="
                                <div class='d-flex flex-column'>
                                    {{ form_widget(form.answers.vars.prototype.label)|e('html_attr') }}
                                    {{ form_widget(form.answers.vars.prototype.isCorrect)|e('html_attr') }}
                                </div>
                        ">
            {% for answerItem in form.answers %}
                <li>
                    <div>
                        <div>{{ form_widget(answerItem.label) }}</div>
                        <div>{{ form_widget(answerItem.isCorrect) }}</div>
                    </div>
                </li>
            {% endfor %}
        </ul>
        <button type="button"
                id="add_item_link"
                class="btn"
                data-collection-holder-class="answers">{% trans %}question.answer.add{% endtrans %}
        </button>
    </fieldset>
    <fieldset>
        <legend>Answers</legend>
        {{ form_row(form.answers) }}
    </fieldset>
    {{ form_row(form.save, {row_attr: {class: 'form-buttons'}}) }}

    {{ form_end(form) }}

{% endblock %}