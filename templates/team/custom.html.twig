{% extends 'team/index.html.twig' %}
{% trans_default_domain 'team' %}

{% block body %}
    <div id="content-team-admin">
        <ul class="my-5">
            {% for key,d in data %}
                <li class="relative text-sm py-0.5">
                    &raquo; <a href="#{{ key }}" class="whitespace-nowrap">{{ d.title }}</a>
                </li>
            {% endfor %}
        </ul>

        {% for key,dd in data %}
            <div id="{{ key }}" class="py-5">
                <div class="grid grid-cols-2 mb-5">
                    <div>
                        <h3>{{ dd.title }}</h3>
                    </div>
                    <div class="text-right pt-1">
                        <a href="{{ dd.newLink }}" class="btn btn-create">{{ dd.titleNew }}</a>
                    </div>
                </div>
                <ul class="stacked-list">
                    {% if dd.data is defined %}
                        {% for d in dd.data|sort((a, b) => a.name <=> b.name) %}
                            <li>
                                <div>
                                    <p>
                                        {{ d.name }}{% if not d.default %}
                                    </p>
                                </div>
                                <div>
                                    <a href="{{ d.edit }}">
                                        {% trans from 'general' %}edit{% endtrans %}
                                    </a>

                                    {% if checkClass(d.object,'App\\Entity\\VVTStatus') %}
                                        <a href="{{ path('team_custom_network_vvtstatus',{'id':d.id}) }}">
                                            {% if d.object.network %}
                                                {% trans from 'general' %}network.show.remove{% endtrans %}
                                            {% else %}
                                                {% trans from 'general' %}network.show.add{% endtrans %}
                                            {% endif %}
                                        </a>
                                    {% endif %}

                                    {% if checkClass(d.object,'App\\Entity\\DatenweitergabeStand') %}
                                        <a href="{{ path('team_custom_network_datenweitergabestatus',{'id':d.id}) }}">
                                            {% if d.object.network %}
                                                {% trans from 'general' %}network.show.remove{% endtrans %}
                                            {% else %}
                                                {% trans from 'general' %}network.show.add{% endtrans %}
                                            {% endif %}
                                        </a>
                                    {% endif %}

                                    <a href="{{ d.deactivate }}" class="text-danger">
                                        {% trans from 'general' %}delete{% endtrans %}
                                    </a>
                                    {% else %} ({% trans %}default{% endtrans %}){% endif %}
                                </div>
                            </li>
                        {% endfor %}
                    {% else %}
                        <p>{% trans %}noEntry{% endtrans %}</p>
                    {% endif %}
                </ul>
            </div>
        {% endfor %}
    </div>
{% endblock %}
